## Подготовка к работе
- Создание и активация виртуального окружения

```
$ python3 -m venv .env
$ source .env/bin/activate
```
- Установка зависимостей
```
$ python3 -m pip install -r requirements.txt
```
## Тестирование
###  Запуска полного теста ролей
```
$ molecule test
```
### Запуск отдельных этапов (необходимо для поиска проблем)
- Создание необходимых виртуальных машин. Требования задаются в `molecule.yml` 
```
$ molecule create
```
- Копирование ssh ключ расположенного в домашней директории `$HOME` на виртуальную машину. Ознакомится можно в prepare.yml. Необходимо для входа в VM через ssh, а не только `molecule login`
```
$ molecule prepare
```
- Прогон ролей. Список хостов указан в `inventory.yml`
```
$ molecule converge
```
- Запуск тестов
```
$ molecule verify
```
После прогона роли у выполнения проверок, сервис `vault` должен быть доступен по адресу `http://192.168.56.110:8200`.
Вход можно выполнить по тестовому пользователю `login: test_user, password: test_password`.
Должны быть доступны `kv-секреты` по пути `molecule-secrets/stage/*`.
